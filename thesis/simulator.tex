\chapter{CMM-based Cognitive User Simulation}
\label{simulator}
The cognitive system lab developed the computer program cognitive memory model (CMM).
It is a general computational cognitive model of human memory inspired by the ACT-R theory \cite[p.~161]{salous_putze_2018esann}. ACT-R stands for adaptive control of thought-rational and is a cognitive architecture that aims to explain how the components of the mind work to produce coherent cognition \cite[p.~1036]{actr}. In the context of the matching pairs game the CMM was used to implement a generative model. By modelling memorized and forgotten revealed cards and deciding in each turn whether to explore unknown cards or to exploit the gathered knowledge to reveal matching pairs, the course of a matching pairs game can be simulated taking the capability of human memory into account \cite[p.~161]{memory}. Furthermore, it is possible to define a similarity matrix to simulate similarities between cards in matching pairs games. This matrix includes similarity values between 0 and 1 for each colour combination of cards. Such a similarity matrix can be used in the context of visual interaction obstacles to emulate human confusion. In related research it was used to simulate the confusion caused by a red-green colour vision deficiency and the usage of a red-green card set \cite[p.~3]{blind}. %
For this thesis the only two modes that are relevant are the glare effect and the no obstacle modes, both without any assistance. In order to simulate no obstacle games no similarity matrix is needed, but for glare effect games a new similarity matrix is needed and therefore created in section \ref{similarity_matrix_cretion} \nameref{similarity_matrix_cretion}.

%- to capture the differnce between colours in the way humans observe it, the rgb scale is not suitable... grund. Therefore cie is usd
%- was wichtig für diese arbeit ist: no óbsracel un glare 
%- für no obstacle hat die wird keine similarity matrix verwendet. (bzw. werte der matrix so gewählt dass sie keinen einfluss haben)
%- für glare effect muss eine neue definiertt werden wie in chapter ref
%- so wie ich es gemacht habe mit den werten
%- as metioned formerly the cie1976 is used. es gibt ein neues dass die unterschiede realistis her darstellt cie2000. deshalbw ird das stattdesen benutzt bei erstellung der matrix für glare effect

To accurately simulate the performance of human memory multiple parameters are randomly initialized and then repeatedly optimized using a genetic optimization algorithm. These parameters can be further extended. The genetic algorithm works by repeatedly simulating game sessions and updating the parameters by applying mutation and selection operations. To select the best parameter values two performance measurements are defined and used to compare the simulated game sessions and a real game as reference. These performance measurements are the number of matching pairs and the number of penalties per round. Penalties are given if a card is revealed whose partner has already been seen before but the pair was not picked up. The optimization of the parameter population is repeated over many generations so that the performance in the simulated games best fits that in the real game. For example, one of the parameters optimized by the genetic optimization algorithm is the \textit{similarity decay}. It reduces the similarity effects during the course of the game, since the user may learn to adapt to the visual interaction obstacle and therefore be less effected by it. Furthermore, the similarity effect is continually reduced as there are less cards in the game after pairs were discovered \cite[p.~5]{blind}.

As input the simulator takes a number of game logs and simulated a specified amount of new sessions using the genetic optimization algorithm. For instance, 20 game logs can be passed to simulate 1000 new sessions out of each game log, resulting in 20000 simulated games. The data contained in the game logs is shown in chapter \ref{collected_data} \nameref{collected_data}. In the context of simulating no obstacle games changes to the simulator were made that are explained in section \ref{results_before_and_after_changing_the_simulator} \nameref{results_before_and_after_changing_the_simulator}.

%\section{Similarity Matrix}
%- auch erklären was similarity matrix ist, struktur und wie die benutz wird\\
%- and colour representation cie etc delta e color differnece, vs rgb was das bringt\\ 
%- no special similarity matrxi for noosbst needed. The differneces can simply be calculated. it is already used in the simulator. However a new similarity matrix needs to be created for simulating glare effect games. 
%- für no obst wird identity similariity matrix verwendet: diagonale ist 